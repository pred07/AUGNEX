# Antivirus vs EDR

## 1. Unit Brief: Matches vs Cameras
*   **Antivirus (AV)**: A "Bouncer" with a list of banned faces (Signatures). If you aren't on the list, you get in.
*   **EDR**: A "CCTV Camera". It records everything. If you get in and start punching people, it sounds the alarm.

## 2. Real-World Relevance
*   **Obfuscation**: Hackers change their malware slightly. The "Face" changes. AV fails.
*   **Behavior**: The malware still tries to encrypt files. EDR sees the behavior "Rapid File Modification" and stops it.

## 3. Core Concepts

### Why AV is not enough
*   **Fileless Malware**: PowerShell scripts that run in memory. There is no file to scan.
*   **Living off the Land**: Hackers use `certutil.exe` (Legal Windows tool) to download viruses. AV trusts `certutil.exe`.

### EDR Capabilities
*   **Process Trees**: Visualization of Parent/Child relationships.
*   **Isolation**: "Click button to disconnect PC from network."
*   **Remote Shell**: Allows analysts to investigate remotely.

## 4. Practical Examples

### The Investigation
**EDR Alert**: `Suspicious PowerShell`
**Analyst View**:
*   `Outlook.exe` (Parent)
    *   `Word.exe` (Opened attachment)
        *   `PowerShell.exe` (Malicious Macro)
            *   `DownloadString(...)` (C2 connection)
*   **Conclusion**: Phishing confirmed.

## 5. Common Mistakes Beginners Make
*   **Relying on "Clean" scans**: "I ran a full scan and it found nothing." If it's a sophisticated APT, a standard scan will find nothing. Check the EDR telemetry.

## 6. Key Takeaways
*   **Execution Prevention**: AV stops the bullet.
*   **Damage Control**: EDR stops the bleeding if the bullet hits.
