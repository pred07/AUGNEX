# API Security Testing Fundamentals

## 1. Orientation

### What this module covers
This module covers the modern web: **REST**, **GraphQL**, and **SOAP**. We focus on the **OWASP API Top 10**.

### Fit in the Learning Path
Traditional web apps are dying. Everything is becoming an API (Mobile apps, SPAs). Hacking APIs requires a different mindset (Postman vs Browser).

### Learning Objectives
By the end of this module, you should understand:
*   **BOLA** (Broken Object Level Authorization).
*   **Mass Assignment**.
*   **Improper Assets Management** (Shadow APIs).

---

## 2. Core Content

### The API Difference
*   **No UI**: You interact with JSON, not HTML.
*   **Methods**: PUT, DELETE, PATCH are much more common.
*   **Documentation**: Swagger / OpenAPI files are the map.

### OWASP API Top 10 (Key Hits)
1.  **BOLA (API1)**: IDOR for APIs.
2.  **Broken User Auth (API2)**: JWT issues.
3.  **Mass Assignment (API6)**: Binding input JSON directly to objects.
4.  **Improper Assets Management (API9)**: Using `v1` (vulnerable) when `v2` (secure) exists.

---

## 3. Guided Practice

### GraphQL Recon
Feature: "Introspection".
Query:
```graphql
{
  __schema {
    types {
      name
    }
  }
}
```
*   **Result**: The server dumps the entire database schema, including hidden fields like `User.passwordHash` or `User.isAdmin`.

### Postman Hacking
Import a Swagger file into Postman.
*   Look for endpoints marked "Admin".
*   Try accessing them as a low-privilege user.

---

## 4. Reflection Check

1.  **Verbosity**: Why do APIs often leak more info? (Because they send whole Data Objects, relying on the Frontend to hide fields. The Hacker sees the whole object).
2.  **Rate Limiting**: Why is API4 (Lack of Resources & Rate Limiting) common? (APIs are meant to be automated. It's hard to distinguish a script from a legitimate heavy user).
3.  **Versions**: Why check `/api/v1/login` even if the app uses `/api/v2/login`? (Because v1 might still be active and have unpatched bugs).

---

## 5. Completion Criteria

This module is complete when:
1.  You can read a JSON response.
2.  You know what **BOLA** stands for.
3.  You understand why GraphQL "Introspection" is a goldmine.
