# Input Validation and Injection Fundamentals

## 1. Orientation

### What this module covers
This module covers the root cause of most web vulnerabilities: **Trusting User Input**. We explore "Input Validation" and the concept of "Injection".

### Fit in the Learning Path
If you understand *why* injection happens (mixing code and data), you can spot it in SQL, LDAP, XML, and OS commands.

### Learning Objectives
By the end of this module, you should understand:
*   The **Code vs Data** distinction.
*   **Whitelisting** vs **Blacklisting**.
*   The concept of "Sanitization".

---

## 2. Core Content

### The Philosophy of Injection
Computers execute instructions.
*   **Code**: `SELECT * FROM users WHERE name = '`
*   **Data**: `Bob`
*   **Code**: `'`

If the computer cannot tell where the Code ends and the Data begins, it executes the Data.
`Bob'; DROP TABLE users;--`
The computer sees `DROP TABLE` as an instruction, not a name.

### Prevention Strategies
1.  **Blacklisting (Bad)**: "Block the word DROP".
    *   *Bypass*: "DrOp", "dRoP", or use synonyms.
2.  **Whitelisting (Good)**: "Only allow a-z, A-Z".
    *   *Effect*: If I send `DROP`, it is rejected because it's not a name.
3.  **Parametrization (Best)**: Keeping Code and Data in separate channels (Prepared Statements).

---

## 3. Guided Practice

### Bypass Logic
**Scenario**: A search box blocks the word `SCRIPT`.

**Attempt 1**: `<SCRIPT>alert(1)</SCRIPT>` -> **Blocked**.

**Attempt 2 (Case)**: `<ScRiPt>alert(1)</ScRiPt>` -> **Allowed?** (If regex is case-sensitive).

**Attempt 3 (Nesting)**: `<SC<SCRIPT>RIPT>` -> When the inner `SCRIPT` is removed, the outer parts merge to form `SCRIPT`. -> **Allowed?**

---

## 4. Reflection Check

1.  **Trust**: Why is "Client-Side Validation" (JavaScript) useless for security? (Because I can turn off JavaScript or use Burp Suite to bypass it).
2.  **Polyglots**: What is an Injection Polyglot? (A string valid in multiple contexts, like SQL, XSS, and LDAP, used to test blind injection points).
3.  **Context**: Is `alert(1)` malicious? (No. But it PROVES that I can execute arbitrary JavaScript).

---

## 5. Completion Criteria

This module is complete when:
1.  You can explain Injection to a non-technical person.
2.  You understand why Blacklists always fail eventually.
3.  You know that "Sanitization" means cleaning the input, while "Validation" means rejecting it.
