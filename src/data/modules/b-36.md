# Digital Forensics for Engineers

## 1. Orientation

### What this module covers
When an alert triggers, you need to investigate. Forensics is the art of recovering evidence. This module covers **Order of Volatility**, **Triage Collection**, and **Artifacts**.

### Learning Objectives
*   Follow the **Order of Volatility** (Memory -> Disk -> Backup).
*   Collect **KAPE** triage packages.
*   Analyze **Prefetch**, **Shimcache**, and **Amcache**.

---

## 2. Core Content

### Order of Volatility
Capture the most fleeting data first.
1.  **CPU/Cache:** Gone in nanoseconds.
2.  **RAM:** Gone on reboot. (Contains encryption keys, unencrypted passwords, running processes).
3.  **HDD/SSD:** Persistent.
4.  **Backups:** Long-term.

### Evidence of Execution
How do you prove a program ran?
*   **Prefetch:** Windows creates `.pf` files to speed up loading. Contains run count and last run time.
*   **Shimcache (AppCompatCache):** Tracks executables for compatibility. detailed history of execution.
*   **UserAssist:** Registry key tracking GUI programs launched by a user.

### Triage vs. Deadbox
*   **Deadbox:** Imaging the entire 1TB drive (Slow, legally rigorous).
*   **Triage:** Collecting the key 500MB of artifacts (Registry, Event Logs, MFT). Fast. Use **KAPE** (Kroll Artifact Parser and Extractor).

---

## 3. Lab: Shadow Copy Analysis

### Scenario
Ransomware deleted the original files. You need to see what existed *before*.

1.  **List Shadows:** `vssadmin list shadows`.
2.  **Mount Shadow:** Create a symlink to the backup snapshot.
3.  **Explore:** Browse the C: drive as it was 24 hours ago.
4.  **Recover:** Copy the malware sample (which deleted itself) from the snapshot for analysis.

---

## 4. Reflection
1.  Why must you never reboot a compromised machine? (You destroy the RAM evidenceman. Pause/Suspend the VM instead).
2.  What is the "Chain of Custody"? (A log of exactly who touched the evidence and when. Essential if the case goes to court).
