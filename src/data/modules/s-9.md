# Technical Infrastructure Reconnaissance

## 1. Orientation

### What this module covers
Mapping the digital footprint of a target. Before exploit, you must enumerate. This covers DNS, Subdomains, ASN mapping, and Certificate Transparency logs. This is the bridge between "OSINT" and "Network Scanning."

### Learning Objectives
*   Map a target's **ASN (Autonomous System Number)**.
*   Enumerate **Subdomains** using passive DNS.
*   Analyze **SSL/TLS Certificates** for hidden domains.

---

## 2. Core Content

### 1. DNS Enumeration
*   **Records:** A (IPV4), AAAA (IPV6), MX (Mail), TXT (SPF/Verify), NS (Nameserver).
*   **Zone Transfer (AXFR):** Ancient misconfiguration where a server gives you *all* records. Rare but gold.
*   **Tools:** `dig`, `nslookup`, `dnsrecon`.

### 2. Certificate Transparency (CT) Logs
Every SSL certificate issued by a rigorous CA is logged publicly to prevent fraud.
*   **The Hack:** Attackers monitor CT logs to see when a company creates `dev-payment.target.com`.
*   **Value:** Real-time visibility into infrastructure expansion.
*   **Tool:** `crt.sh`.

### 3. ASN & IP Blocks
Large companies own their own IP blocks (ASN).
*   **Hurricane Electric (he.net):** Search specific company names to find their IP ranges.
*   **Shodan/Censys:** Search by `org:"Target Corp"` or `asn:AS12345`.
*   **Result:** Finds servers they forgot they had (Shadow IT).

### 4. Subdomain Takeover
If `blog.target.com` points to a Github Page `target-blog.github.io`, and the company deletes the Github repo but *keeps* the DNS record...
*   **The Attack:** You claim the `target-blog` name on Github. Now you control the content of `blog.target.com`.
*   **The Intel:** Identifying dangling pointers is a high-value finding.

---

## 3. Lab: Mapping a Giant

### Scenario: Scan `tesla.com` (Passive Only)
1.  **ASN:** What IP ranges do they own?
2.  **Subdomains:** Use `crt.sh`. Search `%.tesla.com`.
    *   *Result:* Thousands of domains. Look for `dev`, `staging`, `test`.
3.  **Technology:** `builtwith.com`. What CMS do they use?

---

## 4. Completion Criteria
1.  **Define** "Certificate Transparency Log".
2.  **Explain** how finding an ASN helps find "Shadow IT".
3.  **Describe** the risk of a "Dangling DNS Record".
