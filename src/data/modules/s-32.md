# Python for Threat Intelligence

## 1. Orientation

### What this module covers
Automating the boring stuff. You don't need to be a developer, but you need to write scripts to query APIs (VirusTotal, Shodan) and process JSON.

### Learning Objectives
*   Use the **Requests** library.
*   Parse **JSON** data.
*   Automate a **VirusTotal Lookup**.

---

## 2. Core Content

### The Stack
*   **Python 3:** The language.
*   **Jupyter Notebook:** The lab bench.
*   **Pandas:** For handling CSV/Excel data (IOC lists).

### Basic Scripting (API Query)
```python
import requests

api_key = "MY_KEY"
url = "https://www.virustotal.com/api/v3/files/HASH_HERE"
headers = {"x-apikey": api_key}

response = requests.get(url, headers=headers)
print(response.json()['data']['attributes']['last_analysis_stats'])
```

### Data Extraction
*   Reading a text file of IPs.
*   Looping through them.
*   Checking each against an API.
*   Saving "Bad" ones to a new file.

---

## 3. Lab: The Enricher
**Task:** Write a script that takes a list of IPs and queries `ipinfo.io` to get the Country.
1.  Input: `ips.txt`
2.  Loop: For ip in ips...
3.  Request: `ipinfo.io/{ip}/json`
4.  Output: "1.2.3.4 : China"

---

## 4. Completion Criteria
1.  **Write** a generic API request in Python.
2.  **Explain** what a JSON object is (Key-Value pair).
