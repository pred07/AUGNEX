# Hypervisor Architectures (Type 1 vs Type 2)

## 1. Orientation

### What this module covers
The Hypervisor (or Virtual Machine Monitor - VMM) is the software that creates and runs virtual machines. Understanding the two primary types of hypervisors is essential for designing secure architecture, whether for a home lab or an enterprise cloud.

### Learning Objectives
*   Distinguish between Type 1 (Bare Metal) and Type 2 (Hosted).
*   Identify common hypervisors in the market (ESXi, Hyper-V, KVM, VirtualBox).
*   Understand the performance and security implications of each.

---

## 2. Core Content

### Type 1: Bare Metal
Installed directly on the physical server hardware. There is no underlying OS.
*   **Examples:** VMware ESXi, Microsoft Hyper-V (Core), Xen.
*   **Use Case:** Enterprise Data Centers, Cloud Providers (AWS EC2).
*   **Performance:** High (Direct hardware access).
*   **Security:** High (Smaller attack surface, no Host OS vulnerabilities).

### Type 2: Hosted
Installed as an application on top of an existing Operating System.
*   **Examples:** Oracle VirtualBox, VMware Workstation, Parallels.
*   **Use Case:** Personal desktops, Developer testing, Security researcher labs.
*   **Performance:** Lower (Overhead of Host OS + Hypervisor Application).
*   **Security:** Lower (If Host OS is compromised, all VMs are compromised).

### KVM (Kernel-based Virtual Machine)
Linux's unique approach. KVM turns the Linux kernel into a Type 1 hypervisor, but allows it to function as a general OS. It powers most of the cloud (AWS, Google Cloud).

---

## 3. Lab: Hypervisor Recon

### Scenario
You are auditing a server.
1.  **Check for Virtualization:** 
    *   Linux: `lscpu | grep Virtualization`
    *   Windows: `systeminfo`
2.  **Identify the Platform:**
    *   Look for MAC Address OUIs (00:0C:29 is VMware).
    *   Check for Drivers (VirtIO).

---

## 4. Reflection
1.  Why involves less latency: A Type 1 hypervisor or Type 2? Why?
2.  Can you run a Type 2 hypervisor inside a Type 1 hypervisor? (Yes, this is called "Nested Virtualization").
