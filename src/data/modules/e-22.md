# SQL Injection Concepts and Exploitation

## 1. Orientation

### What this module covers
This module covers the "King" of vulnerabilities. **SQL Injection (SQLi)** allows you to read, modify, or delete the entire backend database.

### Fit in the Learning Path
Finding a SQLi is often an instant win. It usually provides Admin credentials or PII (Personally Identifiable Information).

### Learning Objectives
By the end of this module, you should understand:
*   The `' OR 1=1` logic.
*   **UNION** based injection.
*   **Blind** SQL injection.

---

## 2. Core Content

### The Query
`SELECT * FROM users WHERE user = '$input'`

### The Attack
Input: `' OR 1=1--`

Resulting Query:
`SELECT * FROM users WHERE user = '' OR 1=1--'`

*   `'`: Closes the data field.
*   `OR 1=1`: True statement. (True OR Anything = True).
*   `--`: Comment out the rest of the query (ignoring syntax errors).
*   **Result**: Return ALL users.

### Types
1.  **In-Band (Classic)**: You see the results on the screen.
2.  **Error-Based**: The database prints a syntax error revealing its structure.
3.  **Blind**: You see nothing. You guess 'A', and if the page loads in 5 seconds, it's True. (Time-based).

---

## 3. Guided Practice

### Manual Exploitation
**Step 1: Detection**
Add `'` to a URL parameter: `id=5'`.
*   If page breaks or shows SQL error -> **Vulnerable**.

**Step 2: Authentication Bypass**
Login form:
User: `admin' --`
Pass: `(anything)`
*   Logic: It logs you in as `admin` and comments out the password check.

**Step 3: Dumping Data (Union)**
`id=5 UNION SELECT username, password FROM users`
*   Logic: Appends the results of a second query to the first one.

---

## 4. Reflection Check

1.  **Damage**: Can I delete the database with SQLi? (Yes. `'; DROP TABLE users;--`).
2.  **Tools**: Why is `sqlmap` banned on the OSCP exam? (Because it automates the entire process. You must know how to do it manually).
3.  **Modern Web**: Why is SQLi becoming rarer? (Because modern frameworks like Django/Rails use ORMs that auto-parametrize queries).

---

## 5. Completion Criteria

This module is complete when:
1.  You can write the `' OR 1=1--` payload from memory.
2.  You understand the difference between Classic and Blind SQLi.
3.  You treat every `'` (single quote) as a potential trigger.
