# Link Analysis with Maltego

## 1. Orientation

### What this module covers
**Maltego** is an OSINT and Forensics tool that automates "Transforms" (Queries) to build visual relationship maps. It is the standard for visual link analysis.

### Learning Objectives
*   Run **Transforms** to pivot data.
*   Identify **Clusters** in visual data.
*   Understand the distinction between Maltego Client and Transform Servers.

---

## 2. Core Content

### Concepts
*   **Entity:** The dot (Person, DNS Name, IP, Email).
*   **Transform:** A script that runs on a server. Input: Entity. Output: Related Entities.
    *   *Example:* Input `website.com` -> Transform `To DNS Name` -> Output `mail.website.com`.
    *   *Example:* Input `mail.website.com` -> Transform `To IP Address` -> Output `1.2.3.4`.

### The Pivot
Maltego is about speed. 
1.  Start with Email.
2.  Run `To Social Accounts`.
3.  Find Twitter Handle.
4.  Run `To Recent Tweets`.
5.  Find Geolocation.

### Machines
Automated workflows (macros) that run multiple transforms in sequence to footprint a target automatically.

---

## 3. Lab: Infrastructure Mapping

### Scenario
Target: `evil-phish.com`.

1.  **Drag Domain to Graph.**
2.  **Right Click -> DNS -> To IP Address.**
    *   Result: `103.2.5.1`.
3.  **Right Click IP -> Passive DNS -> To Domains.**
    *   Result: `evil-phish.com` AND `secure-login-update.com` AND `bank-verify.net`.
4.  **Conclusion:** You found the attacker's entire campaign infrastructure from one domain.

---

## 4. Reflection
1.  What is the privacy risk of Maltego? (Your queries are sent to public transform servers. The server knows what you are investigating. Do not use standard transforms for Classified data).
2.  Can you write your own transforms? (Yes. Using Python/Canari, you can query your own internal logs or private APIs).
