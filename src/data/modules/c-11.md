# Logging Requirements from an Attackerâ€™s View

## 1. What this module covers
Defines what logs are actually useful. Attackers know what leaves traces. Defenders should record those traces.

## 2. Why this matters for purple teams
Most logging standards (Compliance) are useless for Security. They log "System On/Off", not "Process Injection". Viewing logs as an attacker reveals the gaps.

## 3. Core concepts explained clearly

### The Attacker's Trace
*   **Execution**: We ran a process. -> Need Process Logs.
*   **Network**: We phoned home to C2. -> Need DNS/Firewall Logs.
*   **Persistence**: We added a Reg Key. -> Need Registry Logs.
*   **Identity**: We switched users. -> Need Auth Logs.

### The "Golden Signals"
1.  **Command Line**: `cmd.exe /c powershell...`
2.  **Parent Process**: `word.exe` -> `cmd.exe`
3.  **User Context**: `SYSTEM` vs `Bob`.

## 4. Validation examples

### The "Blind" Test
1.  **Red**: Run a noisy Nmap scan (`nmap -A`).
2.  **Blue**: Check Firewall logs. Do you see the scan?
3.  **Red**: Run a stealth scan (`nmap -sS -T2`).
4.  **Blue**: Do you still see it?
    *   If No, your logging threshold is too high.

## 5. Common gaps and failures
*   **Log Truncation**: "We log command lines, but only the first 50 characters." Attacker puts the payload at character 100.
*   **Local Only**: "Logs are on the laptop." Attacker wipes the laptop event log. (Need Centralization).

## 6. Key takeaways
*   **Actionable**: If a log doesn't help you catch a bad guy or debug an error, why are you paying to store it?
*   **Verbosity**: Security usually requires "Verbose" logging for specific periods or hosts.
