# Linux Logging Fundamentals

## 1. Unit Brief: Text Files & Syslog
Linux logs are mostly plain text files stored in `/var/log`. They are human-readable and easy to parse with `grep`.

## 2. Real-World Relevance
Linux powers the internet's servers. Web/Database breaches happen here.

## 3. Core Concepts

### Key Files
*   `/var/log/syslog` (or `messages`): General system inbox.
*   `/var/log/auth.log` (or `secure`): Auth (SSH, Sudo, Su). **Critical**.
*   `/var/log/kern.log`: Kernel errors.
*   `/var/log/apache2/`: Web server.

### Syslog Protocol
Standard for shipping logs.
*   **Facility**: Who sent it? (Auth, Cron, Mail).
*   **Severity**: How bad? (Debug, Info, Warning, Error, Critical, Paninc).

### Systemd Journal
Modern Linux (Ubuntu/CentOS) uses `journald` (binary logs).
*   Access via `journalctl`.

## 4. Practical Examples

### Investigating SSH Brute Force
```bash
grep "Failed password" /var/log/auth.log | awk '{print $11}' | sort | uniq -c | sort -nr
```
*   **Result**:
    *   5000 192.168.1.55
*   **Analysis**: IP 192.168.1.55 is attacking us.

### Using Journalctl
`journalctl -u ssh -f`
*   Follows the SSH logs in real-time.

## 5. Common Mistakes Beginners Make
*   **Rotation confusion**: Logs are rotated (`auth.log`, `auth.log.1`, `auth.log.2.gz`). If you only grep `auth.log`, you miss yesterday's data. Use `zgrep` for compressed logs.
*   **Deleting logs**: `rm -rf /var/log/*` does not free space if processes are still writing to the deleted files. Truncate them instead (`> /var/log/syslog`).

## 6. Key Takeaways
*   **Text Processing**: Master `grep`, `awk`, `tail`. They are your SIEM on Linux.
*   **Standard Locations**: Almost everything interesting is in `/var/log`.
