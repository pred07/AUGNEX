# Lateral Movement Techniques

## 1. Unit Brief: Hopping Islands
Lateral Movement is moving from Computer A to Computer B. You compromised the Receptionist's PC. Now you need to move to the CEO's PC.

## 2. Real-World Relevance
Attackers rarely land on the target server (e.g., the Database) directly. They land on a workstation and "move laterally" until they reach the target.

## 3. Core Concepts

### Pass-the-Hash (PtH)
You have the NTLM hash of "Administrator". You don't know the password.
*   **Protocol**: NTLM protocol proves identity by responding to a challenge using the hash. It doesn't need the plaintext.
*   **Tool**: `evil-winrm`, `psexec.py`.

### Pass-the-Ticket (PtT)
You have a Kerberos Ticket (TGT) stolen from memory.
*   **Action**: Inject it into your current session.
*   **Result**: Windows believes you are the user who owns the ticket.

### WinRM / PsExec / WMI
The standard ways to execute commands remotely.
*   **PsExec**: Creates a service on the remote machine. (Noisy).
*   **WMI**: WMI query to spawn a process. (Stealthier).
*   **WinRM**: PowerShell Remoting. (Native and clean).

## 4. Practical Examples

### Using Evil-WinRM (PtH)
```bash
$ evil-winrm -i 192.168.1.50 -u Administrator -H 31d6cfe0d16ae931b73c59d7e0c089c0
```
*   You get a PowerShell shell instantly.

### WMI Execution
```bash
wmic /node:192.168.1.50 process call create "calc.exe"
```

## 5. Common Mistakes Beginners Make
*   **Using PsExec everywhere**: It leaves a `PSEXESVC` log entry that screams "Hacker". Use WMI or WinRM where possible.
*   **Moving blindly**: Don't jump to a box unless you know why (Recon first).

## 6. Key Takeaways
*   **Credentials are currency**: Every hop costs credentials (or valid tokens).
*   **Living off the Land**: Use built-in Windows features to move.
