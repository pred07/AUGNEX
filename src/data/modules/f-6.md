# Virtual Networking Concepts

## 1. Orientation

### What this module covers
This module explains how your Virtual Machines talk to the internet and to each other. We decode the VirtualBox/VMware networking modes: **NAT**, **Bridged**, and **Host-Only**.

### Fit in the Learning Path
If you configure this wrong, your lab won't have internet, or worse, you will accidentally expose a vulnerable lab machine to the real internet.

### Learning Objectives
By the end of this module, you should understand:
*   How **NAT** protects your VM.
*   When to use **Bridged** mode.
*   How to create a private **Internal Network** (Host-Only) for safe malware analysis.

---

## 2. Core Content

### 1. NAT (Network Address Translation) - The Default
*   **How it works**: The VM sits behind the Host. The Host acts like a router.
*   **Visibility**: The VM can access the Internet. The Internet *cannot* access the VM.
*   **Use Case**: Downloading tools, updating the OS. **(Safe)**.

### 2. Bridged Adapter
*   **How it works**: The VM bypasses the Host and connects directly to your physical router (Wi-Fi). It gets its own IP address on your home network (e.g., 192.168.1.15).
*   **Visibility**: The VM works exactly like a physical device on your network.
*   **Use Case**: Learning network scanning, intercepting Wi-Fi traffic. **(Riskier)**.

### 3. Host-Only (Internal) Adapter
*   **How it works**: A private network between the Host and the Guest. No Internet access.
*   **Visibility**: Completely isolated from the world.
*   **Use Case**: Malware analysis, vulnerable machines (Metasploitable). **(Safest)**.

---

## 3. Guided Practice

### Experiment: Changing Modes
We will observe how IP addresses change when we switch modes.

**Step 1: Check NAT IP**
1.  Set your Kali VM to **NAT**.
2.  Open Terminal: `ip a`.
3.  Note the IP (Likely `10.0.2.15` in VirtualBox).

**Step 2: Check Bridged IP**
1.  Shutdown VM.
2.  Settings -> Network -> Attached to: **Bridged Adapter**.
3.  Start VM.
4.  Open Terminal: `ip a`.
5.  Note the IP (Likely `192.168.1.x` - same range as your phone/laptop).

**Step 3: Ping Test**
From your **Physical Host** (Windows CMD), try to ping the VM's Bridged IP:
```cmd
ping 192.168.1.x
```
Start observing if you get a reply.

---

## 4. Reflection Check

1.  **Safety**: If you are testing a worm that spreads via SMB (like WannaCry), which network mode MUST you use?
2.  **Troubleshooting**: If your VM has no internet, but your Host does, what is the most likely culprit?
3.  **Topology**: Draw a mental map of where the firewall sits in NAT mode vs Bridged mode.

---

## 5. Completion Criteria

This module is complete when:
1.  You can explain the difference between **NAT** and **Bridged**.
2.  You have successfully switched your VM network adapter type.
3.  You know which mode to use for "General Usage" (NAT) vs "Vulnerable Lab" (Host-Only).
