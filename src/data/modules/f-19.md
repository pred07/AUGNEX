# Windows Architecture (High-Level)

## Introduction

While Linux runs the internet, **Windows runs the enterprise**. 95% of the desktops you will attack in a corporate environment will be running Windows. You must understand how it thinks.

## Unlike Linux...

*   **Registry**: Linux uses text files in `/etc` for config. Windows uses a massive hierarchical database called the **Registry**.
*   **Drive Letters**: No single root. `C:\`, `D:\`.
*   **Backslashes**: Windows paths use `\` (e.g., `C:\Users\Admin`). Linux uses `/`.
*   **Case Insensitivity**: `File.txt` and `file.txt` are the same file in Windows. In Linux, they are different.

## Core Concepts

### 1. The Registry
It holds settings for everything.
*   **Hives**: The root keys (e.g., `HKEY_LOCAL_MACHINE` or HKLM).
*   **Keys**: Sub-folders.
*   **Values**: The actual settings.

> **Attack Vector**: Malware often writes a key to `HKLM\Software\Microsoft\Windows\CurrentVersion\Run` to start automatically when the PC boots.

### 2. Services
Background processes (like Daemons in Linux).
*   Managed via `services.msc`.
*   Run as `SYSTEM`, `NetworkService`, or a specific user.

### 3. Active Directory (AD)
The heart of corporate Windows. It allows one Admin to control 10,000 computers. We will cover this deep in the Exploit path, but know that it exists.

## PowerShell

Cmd.exe is dead. **PowerShell** is the modern shell. It is object-oriented and incredibly powerful for both admins and hackers.

## Why This Matters

If you try to run `ls` on a Windows machine, it might work (in PowerShell), but if you try to cat `/etc/passwd`, you will fail. You need to "speak" Windows.
