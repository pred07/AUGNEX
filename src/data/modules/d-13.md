# Centralized Logging Concepts

## 1. Unit Brief: one Place for Truth
Logging to the local disk is useless at scale. You have 1000 servers. You cannot SSH into 1000 servers to grep a file. You need to ship all logs to one place (SIEM/Data Lake).

## 2. Real-World Relevance
*   **Speed**: Search 1000 servers in 1 second.
*   **Security**: If the hacker wipes the server, the logs are safe in the central bucket.
*   **Correlation**: "Failed login on Server A" + "Failed login on Server B" = Distributed Attack. You can only see this centrally.

## 3. Core Concepts

### Shippers / Agents
Software on the endpoint that pushes logs.
*   **Filebeat / Winlogbeat**: Elastic stack.
*   **Splunk Universal Forwarder**.
*   **Rsyslog**: Native Linux.

### Ingest / Indexing
Parsing the messy text into fields.
*   Raw: `Dec 10 User Bob failed`
*   Parsed: `{"date": "Dec 10", "user": "Bob", "action": "fail"}`.
*   Indexing allows fast searching by field (`action="fail"`).

### SIEM (Splunk, ELK, Wazuh)
The dashboard and alert engine sitting on top of the data.

## 4. Practical Examples

### The Architecture
1.  **Source**: Web Server (`/var/log/nginx/access.log`).
2.  **Agent**: Filebeat monitors file. Sends to Logstash.
3.  **Logstash**: Adds GeoIP data to the source IP. Sends to Elasticsearch.
4.  **Kibana**: Analyst views a World Map of attacks.

## 5. Common Mistakes Beginners Make
*   **Timezones**: Storing logs in local time. Central logs MUST be UTC.
*   **Bandwidth**: Shipping Debug logs over a slow WAN link kills the network. Filter at the source.

## 6. Key Takeaways
*   **Single Pane of Glass**: Analysts should leave the SIEM only for deep dives.
*   **Immutable Storage**: Central logs should be Write-Once, Read-Many (WORM) so hackers can't modify history.
