# Active Reconnaissance Techniques

## 1. Orientation

### What this module covers
This module introduces **Active Scanning**. The primary tool is **Nmap** (Network Mapper). We learn to touch the target to see what responds.

### Fit in the Learning Path
This is the "Knocking on Doors" phase. Once you have a list of IPs (from Passive Recon), you scan them to find open Ports (Services).

### Learning Objectives
By the end of this module, you should understand:
*   How **TCP Handshake** scanning works.
*   The Nmap flags: `-sS` (Stealth), `-sV` (Version), `-p-` (All ports).
*   What "Filtered" means.

---

## 2. Core Content

### The Three-Way Handshake (Review)
SYN -> SYN-ACK -> ACK.

### Nmap Scan Types
1.  **SYN Scan (`-sS`)**: The default. Sends SYN. Receives SYN-ACK. Sends RST (Reset). "I changed my mind."
    *   *Why?* It doesn't complete the connection, so it's faster and slightly stealthier.
2.  **Connect Scan (`-sT`)**: Completes the handshake. Used when you don't have Root privileges.
3.  **Version Scan (`-sV`)**: Interrogates the service to find out what it is (e.g., "Apache 2.4.49").

### Port States
*   **Open**: Accepting connections.
*   **Closed**: Responding with "Go Away" (RST).
*   **Filtered**: No response (Firewall dropped the packet).

---

## 3. Guided Practice

### Nmap Basics
We will scan `scanme.nmap.org` (Authorized for testing).

**Step 1: Basic Scan**
```bash
nmap scanme.nmap.org
```
*   **Output**: Lists open ports (80, 22, etc).

**Step 2: Service Version Detection**
```bash
nmap -sV scanme.nmap.org
```
*   **Output**: Shows `Apache httpd 2.4.7` instead of just `80/tcp`.

**Step 3: "Stealth" Scan (Root required)**
```bash
sudo nmap -sS scanme.nmap.org
```

---

## 4. Reflection Check

1.  **Noise**: If you scan 65,535 ports on a production server at high speed (`-T4`), what might happen? (You might crash older services or fill up the firewall logs instantly).
2.  **Firewalls**: If a port says "Filtered", what does that imply? (A firewall is standing between you and the target).
3.  **Timing**: Why would a Red Teamer use `-T1` (Timing Template 1 - Insane Slow)? (To send one packet every 5 minutes and evade detection).

---

## 5. Completion Criteria

This module is complete when:
1.  You have run a successful Nmap scan.
2.  You understand the difference between Open, Closed, and Filtered.
3.  You can explain why `-sS` is the default scan method.
