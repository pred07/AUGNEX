# HTTP Protocol Deep Dive

## 1. Unit Brief: The Language of the Web
HyperText Transfer Protocol (HTTP) is the language web browsers and servers use to talk. If you want to trick the server, you must speak this language fluently. You must know what a Header is, what a Body is, and what Status Codes mean.

## 2. Real-World Relevance
*   **Web Scanners**: Report "403 Forbidden".
*   **Hacker**: Changes `GET` method to `POST` and bypasses the check.
*   **Why**: The developer only blocked `GET` requests in the code configuration. The scanner gave up; the hacker knew the protocol.

## 3. Core Concepts

### Requests
*   **Method**: `GET` (Read), `POST` (Create), `PUT` (Update), `DELETE` (Destroy).
*   **Headers**: Metadata like `User-Agent`, `Cookie`, `Content-Type`.
*   **Body**: The data being sent (JSON, Form-data).

### Responses
*   **200 OK**: Success.
*   **301/302 Redirect**: Look over there.
*   **400 Bad Request**: You messed up the syntax.
*   **401 Unauthorized**: Who are you? (Login required).
*   **403 Forbidden**: I know who you are, but no. (Permission denied).
*   **500 Internal Server Error**: You crashed the server (or found a bug).

### Statelessness
HTTP is stateless. The server forgets you immediately after the response. "Cookies" are the hacks used to remind the server who you are.

## 4. Practical Examples

### Raw HTTP Request
```http
POST /login HTTP/1.1
Host: bank.com
Content-Type: application/x-www-form-urlencoded
Cookie: session=123

user=admin&pass=123
```
*   **Host**: Who we are calling.
*   **Cookie**: My ID card.
*   **Body**: My credentials.

### Manipulating Headers
If a site only allows access from internal IPs (192.168.x.x), try injecting:
`X-Forwarded-For: 192.168.1.5`
Some poorly configured load balancers will trust this header and let you in.

## 5. Common Mistakes Beginners Make
*   **Ignoring 302 Redirects**: Burp Suite pauses redirects. Beginners forward them instantly. Often, the "secret" data leaked in the Body of the 302 response *before* the browser redirected you.
*   **Not checking Content-Type**: Sending JSON data but telling the server it's `text/plain` will often cause the request to be ignored.

## 6. Key Takeaways
*   **Everything is Text**: HTTP is just text sent over a socket. You can edit every single character.
*   **Headers are Powerful**: They control caching, auth, and routing.
