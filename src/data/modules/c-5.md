# Detection as an Engineering Problem

## 1. Orientation

### What this module covers
This module treats Detection not as an art, but as **Code**. CI/CD for alerts.

### Fit in the Learning Path
You don't manually edit production servers. Why do you manually edit SIEM rules?

### Learning Objectives
By the end of this module, you should understand:
*   **Detection as Code**.
*   **Version Control** (Git for Rules).
*   **Testing Pipelines**.

---

## 2. Core Content

### The Engineering Lifecycle
1.  **Development**: Write rule in Sigma/YAML.
2.  **Commit**: Push to Git.
3.  **Test**: CI Pipeline runs the rule against a dataset of known attacks.
    *   *Pass*: Detections trigger.
    *   *Fail*: False positives triggered or missed attack.
4.  **Deploy**: Auto-push to Splunk/Sentinel.

### Benefits
*   **History**: "Who changed this rule and why?" (Git blame).
*   **Rollback**: "The new rule broke the SIEM. Revert to previous commit."
*   **Consistency**: No "Ad-hoc" clicking in the UI.

---

## 3. Guided Practice

### The Git Workflow
**Scenario**: Tuning a Noisy Rule.

1.  `git pull` repo.
2.  Edit `rules/windows/process_creation.yaml`.
3.  Add exclusion: `User != 'ServiceAccount'`.
4.  `git commit -m "Tuned false positive for ServiceAccount"`.
5.  `git push`.
6.  Pipeline runs simulation. **Passed**.
7.  Deployed to Master.

---

## 4. Reflection Check

1.  **Fragility**: What happens if you edit rules directly in the SIEM UI? (They get overwritten by the next Git deployment. Configuration Drift).
2.  **Speed**: Is this slower? (Initially yes. But safer. And much faster at scale).
3.  **Skill**: Requires Security Analysts to know Git. (This is the modern standard).

---

## 5. Completion Criteria

This module is complete when:
1.  You treat a Rule as **Software**.
2.  You understand the value of **CI/CD** for security.
3.  You never "Click Save" in the console again.
