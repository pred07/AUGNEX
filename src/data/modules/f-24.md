# Cookies, Sessions, and Authentication

## 1. Orientation

### What this module covers
This module answers the question: "How does the server know I am logged in?" We explore Statelessness, Cookies, and Tokens.

### Fit in the Learning Path
Session Hijacking (stealing cookies) is one of the most effective attacks in history. Authentication bypass implies understanding how authentication works.

### Learning Objectives
By the end of this module, you should understand:
*   HTTP is **Stateless** (Memoryless).
*   **Cookies**: The ID card.
*   **Session Hijacking**: The "Wristband" theft.

---

## 2. Core Content

### The Problem of Statelessness
If you send a request for `page1`, then `page2`, the server does not know you are the same person. It treats every request as a stranger.

### The Solution: Cookies
1.  You log in (Username/Password).
2.  Server verifies you.
3.  Server sends a `Set-Cookie: session_id=XYZ` header.
4.  Your Browser saves `XYZ`.
5.  **Critically**: For every future request to that domain, your browser *automatically* sends `Cookie: session_id=XYZ`.
6.  The Server sees `XYZ` and says, "Ah, that's Bob."

### Tokens (Modern Web)
Instead of Cookies, modern apps (like this one) often use **JWTs** (Json Web Tokens) stored in Local Storage.
*   Header: `Authorization: Bearer <token>`.

---

## 3. Guided Practice

### Finding Your Session
We will find the digital ID card that proves you are using this app.

**Step 1: Application Tab**
*   Open Developer Tools (F12).
*   Click the **Application** (Chrome) or **Storage** (Firefox) tab.

**Step 2: Cookies / Local Storage**
*   Expand **Context** -> **Cookies** -> Select the domain.
*   Do you see a `session` or `JSESSIONID`?
*   Expand **Local Storage**. (Common for React apps).
*   Look for `token` or `user`.

**Step 3: The Thought Experiment**
If you copied that Value text and emailed it to a friend, and they pasted it into their browser... they would BE logged in as YOU. They would not need your password. This is **Session Hijacking**.

---

## 4. Reflection Check

1.  **Security**: Why should cookies be marked `HttpOnly`? (To prevent JavaScript from reading them, stopping XSS theft).
2.  **Logout**: What happens technically when you click "Logout"? (The server destroys the Session ID, or the browser deletes the Cookie).
3.  **Timeout**: Why do bank sessions expire after 10 minutes? (To minimize the window of opportunity for hijacking).

---

## 5. Completion Criteria

This module is complete when:
1.  You have inspected Local Storage or Cookies in your browser.
2.  You understand that the "Cookie" acts as your temporary password.
3.  You can explain why HTTP being "Stateless" requires these mechanisms.
