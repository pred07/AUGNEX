# Infrastructure Attack Surface Overview

## 1. Orientation

### What this module covers
This module shifts from Web to **Net**. We look at servers, clouds, and networks. Routers, Switches, VPNs, and Domain Controllers.

### Fit in the Learning Path
Web is just Layer 7. If the web app is secure, we attack the server (Layer 3/4).

### Learning Objectives
By the end of this module, you should understand:
*   **External vs Internal** Infrastructure.
*   **Legacy Systems**.
*   **Cloud** (AWS/Azure) surfaces.

---

## 2. Core Content

### External Perimeter
What is exposed to the internet?
*   VPN Gateways (Citrix, Pulse Secure).
*   Email Servers (Exchange).
*   DNS Servers.
*   Web Servers.

### Internal Network
Once past the firewall, what exists?
*   **Active Directory**: The keys to the kingdom.
*   **File Shares** (SMB): Data troves.
*   **Databases**: SQL servers.

### Cloud Infrastructure
*   **S3 Buckets**: Storage.
*   **IAM**: Permissions.
*   **Serverless**: Lambda functions.

---

## 3. Guided Practice

### Shodan Recon
**Query**: `org:"Target Corp"`
*   What do they own?
*   Do you see `port:3389` (RDP)? (Bad practice).
*   Do you see `port:445` (SMB)? (Critical vulnerability usually).

### Analyzing a Network Map (Mental)
1.  **DMZ**: The Public Zone. (Web Servers).
2.  **Firewall**: The Guard.
3.  **LAN**: The Internal Zone. (Workstations).
4.  **Restricted**: The Vault. (Databases).

**Attack Path**: Hack Web Server (DMZ) -> Pivot to LAN -> Pivot to Vault.

---

## 4. Reflection Check

1.  **Patching**: Why are VPNs a favorite target for Ransomware groups? (Because they are the front door. If you exploit the lock, you are inside the house).
2.  **Legacy**: Why do companies keep Windows 2008 servers? (Because "Critical App X" only runs on it. Security debt).
3.  **Segmentation**: How does a "Flat Network" help an attacker? (Once you hack one PC, you can reach every other PC directly. No internal firewalls).

---

## 5. Completion Criteria

This module is complete when:
1.  You can distinguish between External and Internal assessment.
2.  You understand the concept of **Pivoting**.
3.  You stop viewing the network as a "Cloud" and start viewing it as a Graph of Nodes.
